---
/**
 * CONTACT SECTION - Formulario + Reseñas
 * 
 * Permite:
 * 1. Contacto directo vía email
 * 2. Reseñas/comentarios de la comunidad
 * 3. Anónimo o con nombre/apodo
 * 
 * Sigue SOLID Principles y arquitectura escalable
 */

import type { Review } from '@data/types';
import styles from './Contact.module.css';
import ContactForm from './ContactForm';
import ReviewsList from './ReviewsList';

interface Props {
  initialReviews?: Review[];
  email: string;
}

const { initialReviews = [], email } = Astro.props;
---

<section id="contact" class={styles.contact}>
  <div class="container">
    {/* Header */}
    <div class={styles.contactHeader}>
      <div class={styles.label}>Contacto</div>
      <h2 class={styles.title}>Conectemos & Comparte</h2>
      <p class={styles.description}>
        ¿Tenés dudas, sugerencias o querés compartir tu experiencia? Esta es una comunidad segura y anónima donde todos podemos aprender juntos.
      </p>
    </div>

    {/* Main Grid: Form + Reviews */}
    <div class={styles.contentGrid}>
      {/* Left: Contact Form */}
      <div class={styles.formSection}>
        <ContactForm client:load email={email} />
      </div>

      {/* Right: Reviews/Comments */}
      <div class={styles.reviewsSection}>
        <div class={styles.reviewsHeader}>
          <h3 class={styles.reviewsTitle}>
            <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M10 2C5.58172 2 2 5.58172 2 10C2 14.4183 5.58172 18 10 18H14L18 20V14C18 12.8954 18.8954 12 20 12V6C20 3.79086 18.2091 2 16 2H10Z" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
            Comentarios de la Comunidad
          </h3>
          <span class={styles.reviewCount}>{initialReviews.length}</span>
        </div>

        <ReviewsList reviews={initialReviews} client:load />
      </div>
    </div>

    {/* Decorative Elements */}
    <div class={styles.decoration}>
      <div class={styles.decorationItem}></div>
    </div>
  </div>
</section>
